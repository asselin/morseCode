<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Morse Code</title>

  <!-- Added link to the jQuery Library -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>

  <!-- Added a link to Bootstrap-->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous">

</head>
<body>

  <div class="jumbotron">
    <h1 class="text-center">Morse Code</h1>
    <h3 class="text-center">Translate Morse Code</h3>
  </div>

  <div class="container">

    <div class="row">

      <!-- Calculator Panel -->
      <div class="col-lg-4">
        <div class="panel panel-default">
          <div class="panel-heading">
            <h3 class="panel-title">Calculator</h3>
          </div>

          <div class="panel-body">
            <button id="dot" class="btn btn-primary" value="."><h1>Dot</h1></button>
            <button id="dash" class="btn btn-primary" value="-"><h1>Dash</h1></button>
            <button id="space" class="btn btn-primary" value=" "><h1>Space</h1></button>
          </div>
        </div>
      </div>

      <!-- Result Panel -->
      <div class="col-lg-6">
        <div class="panel panel-default">
          <div class="panel-heading">
            <h3 class="panel-title">Result</h3>
          </div>
          <div class="panel-body">
            <h1 id="message"></h1>
            <h1 id="currentCode"></h1>
            <h1 id="possibilities"></h1>
          </div>
        </div>
      </div>
    </div>
  </div>

  <script type="text/javascript">
    // Constant
    var morseCodeMap = [
      {morseCode: ".-", letter: "A"},
      {morseCode: "-...", letter: "B"},
      {morseCode: "-.-.", letter: "C"},
      {morseCode: "-..", letter: "D"},
      {morseCode: ".", letter: "E"},
      {morseCode: "..-.", letter: "F"},
      {morseCode: "--.", letter: "G"},
      {morseCode: "....", letter: "H"},
      {morseCode: "..", letter: "I"},
      {morseCode: ".---", letter: "J"},
      {morseCode: "-.-", letter: "K"},
      {morseCode: ".-..", letter: "L"},
      {morseCode: "--", letter: "M"},
      {morseCode: "-.", letter: "N"},
      {morseCode: "---", letter: "O"},
      {morseCode: ".--.", letter: "P"},
      {morseCode: "--.-", letter: "Q"},
      {morseCode: ".-.", letter: "R"},
      {morseCode: "...", letter: "S"},
      {morseCode: "-", letter: "T"},
      {morseCode: "..-", letter: "U"},
      {morseCode: "...-", letter: "V"},
      {morseCode: ".--", letter: "W"},
      {morseCode: "-..-", letter: "X"},
      {morseCode: "-.--", letter: "Y"},
      {morseCode: "--..", letter: "Z"}
    ];

    // Variables
    var translatedMessage;
    var currentMorseCode;

    function init() {
      translatedMessage = "";
      currentMorseCode = "";
    }

    function getPossibleLetters(morseCode) {
      var inputLength = morseCode.length;
      var outArray = [];

      for (var i = 0; i < morseCodeMap.length; i++) {
        if (morseCodeMap[i].morseCode.substr(0, inputLength) == morseCode)
          outArray.push(morseCodeMap[i]);
      }

      return outArray;
    }

    $(document).ready(function() {
      // Check if any button is clicked...
      $("#dot").on("click", function() {
          currentMorseCode += ".";
          var possibilities = getPossibleLetters(currentMorseCode);
          console.log(currentMorseCode, possibilities);
      });


      $("#dash").on("click", function() {
          console.log("test")
      });
      $("#space").on("click", function() {
          console.log("test")
      });

      init();
    });

  </script>

</body>
</html>
